var qazy = {};

qazy.qazy_image = "data:image/png;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMfaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkZBRUU1NjA0RTM0RDExRTdBQkYxQ0EwRUY2MDRFRTA0IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkZBRUU1NjAzRTM0RDExRTdBQkYxQ0EwRUY2MDRFRTA0IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSI4RkMyRjlDRkJCQTY0NEE5NzM1NUIyNjRFM0ExNDIwMiIgc3RSZWY6ZG9jdW1lbnRJRD0iOEZDMkY5Q0ZCQkE2NDRBOTczNTVCMjY0RTNBMTQyMDIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAGBAQEBQQGBQUGCQYFBgkLCAYGCAsMCgoLCgoMEAwM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";
qazy.view_elements = [];

qazy.reveal = function(){
    for(var count = 0; count < qazy.view_elements.length; count++)
    {
        var offsetParentTop = 0;
        var temp = qazy.view_elements[count];
        do
        {
            if(!isNaN(temp.offsetTop))
            {
                offsetParentTop += temp.offsetTop;
            }
        }while(temp = temp.offsetParent)

        var pageYOffset = window.pageYOffset;
        var viewportHeight = window.innerHeight;

        var offsetParentLeft = 0;
        var temp = qazy.view_elements[count];
        do
        {
            if(!isNaN(temp.offsetLeft))
            {
                offsetParentLeft += temp.offsetLeft;
            }
        }while(temp = temp.offsetParent);

        var pageXOffset = window.pageXOffset;
        var viewportWidth = window.innerWidth;

        if(offsetParentTop > pageYOffset && offsetParentTop < pageYOffset + viewportHeight && offsetParentLeft > pageXOffset && offsetParentLeft < pageXOffset + viewportWidth)
        {
            qazy.view_elements[count].src = qazy.view_elements[count].getAttribute("data-qazy-src");
            /*console.log(qazy.view_elements[count].src);*/
            qazy.view_elements.splice(count, 1);
            count--;
        }
        else
        {
            /*console.log("offsetParentTop" + offsetParentTop + " pageYOffset" + pageYOffset + " viewportHeight" + window.innerHeight);*/
        }
    }
};

window.addEventListener("resize", qazy.reveal, false);
window.addEventListener("scroll", qazy.reveal, false);

//responsible for stopping img loading the image from server and also for displaying lazy loading image.
qazy.qazy_list_maker = function(){
    var elements = document.querySelectorAll("img[data-qazy][data-qazy='true']");

    for(var count = 0; count < elements.length; count++)
    {
        qazy.view_elements.push(elements[count]);
        elements[count].setAttribute("data-qazy", "false");

        var source_url = elements[count].src;
        elements[count].setAttribute("data-qazy-src", source_url);

        elements[count].src = elements[count].getAttribute("data-qazy-placeholder") || qazy.qazy_image;
    }
};

qazy.intervalObject = setInterval(function(){
    qazy.qazy_list_maker();
}, 50);

window.addEventListener("load", function() {
    clearInterval(qazy.intervalObject);
    qazy.qazy_list_maker();
    qazy.reveal();
}, false);